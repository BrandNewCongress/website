{% extends 'SitetheoryStreamBundle::Excerpt-VisualList.html.twig' %}


{% block link %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('bundles/sitetheoryprofile/css/Profile.css') }}">

{% endblock link %}






{#
########
SETTINGS
########
#}

{# Hide sidebar on desktop #}
{% set columnSidebar = 'hide-gt-sm' %}
{% set columnMain = '' %}

{# Hide gutter in main column #}
{% block mainColumnGutter %}
{% endblock mainColumnGutter %}



{# Temporary Hard Coded Side Menu #}
{% set sectionNameHardCoded = 'Candidates' %}
{% set sectionMenuHardCoded = '1' %}
{% set sectionMenuActive = 'drafteesActive' %}



{# Remove standard header image #}
{% block headerImageInsideHeader %}
{% endblock headerImageInsideHeader %}



{% block contentType %}
    <div id="candidateListPage" class="profileList">

        <p class="textCenter pullout">We are excited to announce our first potential candidates! We need to convince
            them we have the support needed to run their campaign.</p>


        <h1>Our Draftees</h1>
        <div class="borderDashedBold">
            <div id="profileList">
                {{ parent() }}
            </div>
        </div>
    </div>
{% endblock contentType %}

{% block listItem %}
    <md-grid-tile ng-repeat="model in collection.models | filter:{data:{viewVersion:{title:'!null'}}}">
        <div class="profileContainer">
            <div class="profileItem" layout="column">
                <div class="clearfix" flex-order="2" flex-order-gt-xs="1">
                    <div class="profileImage">
                        <a ng-href="{% verbatim %}{{ model.data.routingPrimary.url }}{% endverbatim %}">
                            <img ng-src="{% verbatim %}{{ image.url }}{% endverbatim %}"
                                 ng-repeat="image in model.data.viewVersion.images | limitTo:1">
                            <img ng-show="!model.data.viewVersion.images.length" src="{{ asset('bundles/sitetheoryprofile/images/profilePlaceholder.png') }}">
                        </a>
                    </div>
                    <h2>{% verbatim %}{{ model.data.viewVersion.title }}{% endverbatim %}</h2>
                    <h4>{% verbatim %}{{ model.data.viewVersion.meta.position }}{% endverbatim %}</h4>
                    <p class="profileBody">
                        <span ng-bind-html="model.data.viewVersion.text | truncate:{limit: 130}"></span>
                        <a class="readMore fontBody"
                           ng-href="{% verbatim %}{{ model.data.routingPrimary.url }}{% endverbatim %}">Read More</a>
                    </p>
                </div>
                <div class="profileExtra backgroundDark" flex-order="1" flex-order-gt-xs="2">
                    <div class="starLeft starWhite">
                        <div class="starRight starWhite">
                            <div class="starText fontPrimary textCenter">
                                {{ model.data.viewVersion.subtitle }}
                            </div>
                            {# FIXME: The locations below are not completely bug free, so we're using subtitles above
                            <div ng-repeat="location in model.data.viewVersion.meta.locations"
                                 class="starText fontPrimary textCenter">
                                {% verbatim %}{{ location }}{% endverbatim %}
                            </div>
                            #}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </md-grid-tile>
{% endblock listItem %}